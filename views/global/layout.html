{# This serves as our base template; it is rendered inside of the 'apos-refreshable' class in outerLayout.html. #}
{# This is where we declare the main blocks that our layout is composed of, e.g. header, main, footer, etc. #}
{# Depending on your needs this is where you would create blocks that you can hook into from other templates, #}
{# e.g. the extraBreadcrumbs block within the breadcrumbs block. #}

{# DO NOT REMOVE. We pull these out for outerLayout and refresh operations #}
<!-- APOS-BODY-CLASS {% block bodyClass %}{% endblock %} -->
<!-- APOS-TITLE {% block title %}{% endblock %} -->

{% block header %}
  <div class="block header">
    <div class="inner clearfix">
      <a href="/"><div class="logo"></div></a>
      <div class="main-navigation">

        {% block mainNav %}
          <ul class="tabs clearfix">
            {% for tab in page.tabs %}
              {% if tab.slug == page.slug %}
                <li class="tab current-page"><a href="{{ tab.url }}">{{ tab.title | e }}</a></li>
              {% else %}
                <li class="tab"><a href="{{ tab.url }}">{{ tab.title | e }}</a></li>
              {% endif %}
            {% endfor %}
          </ul>
        {% endblock %}

      </div>
      {% block headerBody %}
      {% endblock %}
    </div>
  </div>
{% endblock %}

{% block hero %}
{% endblock %}

{% block breadcrumbs %}
  <div class="block breadcrumb-nav">
    <div class="inner">
      <ol class="breadcrumbs ancestors clearfix">
        {% for relative in page.ancestors %}
          <li><a href="{{ relative.url }}">{{ relative.title | e }}</a>&nbsp;/&nbsp;</li>
        {% endfor %}

        {# Templates for extended URLs of greedy pages (like blog post permalink pages #}
        {# will want to make the greedy page itself a link and add more li's. #}
        {# see the apostrophe-blog's show.html for an example of this. #}
        {% block extraBreadcrumbs %}
        <li>{{ page.title | e }}</li>
        {% endblock %}
      </ol>
    </div>
  </div>
{% endblock %}

{% block main %}
  <div class="block main-content">
    <div class="inner clearfix">

      {# most content will be just fine sitting within our 'block' class, but we always #}
      {# have the option to override the 'main' block if we want a little more control. #}
      {% block mainContent %}
      {% endblock %}

    </div>
  </div>
{% endblock %}

{% block extraContent %}
{% endblock %}

{# notice that this footer uses global areas: if we want editable content to appear on every page #}
{# that inherits this one we want to use the global.areas object instead of the page.areas object. #}
{% block footerBody %}
  <footer class="block footer">
    {% block footer %}
    <div class="major">
      <div class="inner clearfix">
        <div class="column">
          {{ aposArea({ slug: 'global:footerContent1', area: global.areas.footerContent1, edit: edit, controls: ['style', 'italic', 'createLink'] }) }}
        </div>
        <div class="column">
          {{ aposArea({ slug: 'global:footerContent2', area: global.areas.footerContent2, edit: edit, controls: ['style', 'italic', 'createLink'] }) }}
        </div>
        <div class="column">
          {{ aposArea({ slug: 'global:footerContent3', area: global.areas.footerContent3, edit: edit, controls: ['style', 'italic', 'createLink'] }) }}
        </div>
      </div>
    </div>
    <div class="minor">
      <div class="inner clearfix">
        <div class="column footer-text">WEBSITES, NOT COFFEE</div>
        <div class="column">
          <div class="footer-logos">
            <a href="http://twitter.com/punkave"><div class="twitter-logo"></div></a>
            <a href="http://punkave.com"><div class="punk-logo"></div></a>
            <a href="http://facebook.com/punkave"><div class="facebook-logo"></div></a>
          </div>
        </div>
        <div class="column footer-text">COPYRIGHT &amp; PRIVACY POLICY</div>
      </div>
    </div>
    {% endblock %}
  </footer>
{% endblock %}

{# These should fire both on initial page load and on content area #}
{# refresh, so put them in this inner layout #}
<script type="text/javascript">
  $(function() {
    {# Set up apos.data properties pushed with apos.pushGlobalData and req.pushData #}
    {{ data }}
    {# Invoke calls set up with apos.pushGlobalCall and req.pushCall #}
    {{ calls }}
  });
</script>
